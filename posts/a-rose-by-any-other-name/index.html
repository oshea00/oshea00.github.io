<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Comparing Prompt Results - A Rose By Any Other Name | MikesBlog</title>
<meta name="keywords" content="llm, openai, embedding">
<meta name="description" content="
     


You might want to test an expected response from a prompt sent to a large language model, but string comparisons will not help you. The inherent variability in large language model (LLM) responses will require you to find new ways to compare generated prompt results.
There are a few reasons why a generated prompt result will not exactly match a prior result: the prompt itself may have changed, the model parameters may have changed, or the model&rsquo;s inherent variability may inject a small amount of change in the results.">
<meta name="author" content="Michael OShea">
<link rel="canonical" href="https://oshea00.github.io/posts/a-rose-by-any-other-name/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f88d9240b376f3d68f9cd54cd60409eb9002a70286d9e2cbb0d9618fe64b6b8b.css" integrity="sha256-&#43;I2SQLN289aPnNVM1gQJ65ACpwKG2eLLsNlhj&#43;ZLa4s=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://oshea00.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://oshea00.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://oshea00.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://oshea00.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://oshea00.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://oshea00.github.io/posts/a-rose-by-any-other-name/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


<script>
document.addEventListener("DOMContentLoaded", function() {
    renderMathInElement(document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    });
});
</script>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-37B7H2GBCX"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-37B7H2GBCX');
        }
      </script><meta property="og:url" content="https://oshea00.github.io/posts/a-rose-by-any-other-name/">
  <meta property="og:site_name" content="MikesBlog">
  <meta property="og:title" content="Comparing Prompt Results - A Rose By Any Other Name">
  <meta property="og:description" content=" You might want to test an expected response from a prompt sent to a large language model, but string comparisons will not help you. The inherent variability in large language model (LLM) responses will require you to find new ways to compare generated prompt results.
There are a few reasons why a generated prompt result will not exactly match a prior result: the prompt itself may have changed, the model parameters may have changed, or the model’s inherent variability may inject a small amount of change in the results.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-08-20T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-08-20T00:00:00+00:00">
    <meta property="article:tag" content="Llm">
    <meta property="article:tag" content="Openai">
    <meta property="article:tag" content="Embedding">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Comparing Prompt Results - A Rose By Any Other Name">
<meta name="twitter:description" content="
     


You might want to test an expected response from a prompt sent to a large language model, but string comparisons will not help you. The inherent variability in large language model (LLM) responses will require you to find new ways to compare generated prompt results.
There are a few reasons why a generated prompt result will not exactly match a prior result: the prompt itself may have changed, the model parameters may have changed, or the model&rsquo;s inherent variability may inject a small amount of change in the results.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://oshea00.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Comparing Prompt Results - A Rose By Any Other Name",
      "item": "https://oshea00.github.io/posts/a-rose-by-any-other-name/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Comparing Prompt Results - A Rose By Any Other Name",
  "name": "Comparing Prompt Results - A Rose By Any Other Name",
  "description": " You might want to test an expected response from a prompt sent to a large language model, but string comparisons will not help you. The inherent variability in large language model (LLM) responses will require you to find new ways to compare generated prompt results.\nThere are a few reasons why a generated prompt result will not exactly match a prior result: the prompt itself may have changed, the model parameters may have changed, or the model\u0026rsquo;s inherent variability may inject a small amount of change in the results.\n",
  "keywords": [
    "llm", "openai", "embedding"
  ],
  "articleBody": " You might want to test an expected response from a prompt sent to a large language model, but string comparisons will not help you. The inherent variability in large language model (LLM) responses will require you to find new ways to compare generated prompt results.\nThere are a few reasons why a generated prompt result will not exactly match a prior result: the prompt itself may have changed, the model parameters may have changed, or the model’s inherent variability may inject a small amount of change in the results.\nOne technique for dealing with “fuzzy” comparisons is to use embeddings to compare texts. Embeddings can be thought of as a multidimensional space of meaning, within which any fragment of text can be assigned a location to a point in that space using a coordinate. The coordinate is the “embedding”. The ability to express the distance between any two points in such a space can be used as a proxy for “sameness in meaning.” Birds of a feather flock together.\nA coordinate list (or tuple) of two numbers, such as (x, y), is needed to assign a unique point location in a two-dimensional space. To extend this to an n-dimensional space, a list of length n is required. Embedding models typically assign coordinates in spaces of over 100 dimensions. This depends on the particular embedding model chosen. For OpenAI embedding models such as'text-embedding-ada-002'and'text-embedding-3-small', the embedding will be a list of 1,536 float values - a coordinate in a 1,536 dimensional space.\nI’ve always found it fascinating that no matter how many dimentions there are, the distance between any two points in n-dimensions is always a single number.\nThere are a couple of choices you can use to determine distance between n-dimensional coordinates, the most straightforward being the “Euclidean distance” (or norm) which most high school algebra students will remember as: $$ d = \\sqrt{(x_1-x_2)^2 + (y_1-y_2)^2} $$ or, more generally, for any n-dimensional Euclidean space:\n$$ d(p,q) = \\sqrt{\\sum_{i=1}^{n}(q_i - p_i)^2} $$\nAnother choice is the Cosine similarity, which considers the angle between two coordinate vectors. Embeddings can be interpreted as a vector from the origin to the coordinate the embedding represents. The length of the embedding vector is always normalized to 1.0. If the vectors point in the same direction, they have similar meaning. Birds of a feather flock together and fly in the same direction too:\n$$ cos(\\theta) = \\frac{A \\cdot B}{\\left|A\\right| \\left|B\\right|} $$\nIf the two embedding vectors are identical, the angle between them will be 0, so the angle’s cosine will be 1. The possible values range from -1 to 1, where -1 means opposite in meaning, 0 means no overlap in meaning, and 1 is identical. In practical terms, the values we are concerned with range from 0 to 1.\nFor the following code examples, I will use Cosine similarity. Rather than roll my own from the above formula, I will use a helper function found in thetorch.nnpackage, nn.CosineSimilarity(). This function will take advantage of the GPU, if present, and will also handle a few edge cases and singularities that may arise from comparing embedding vectors.\nSetting up a few functions to help generate prompt results and compare results:\nfrom openai import OpenAI import torch import torch.nn as nn def get_prompt_result(prompt:str, temperature:float=0, top_p:float = 1) -\u003e str: result = client.chat.completions.create( model=\"gpt-4o\", messages=[ { \"role\": \"user\", \"content\": prompt, } ], temperature=temperature, top_p=top_p ) return result.choices[0].message.content def get_embedding(text:str, model:str = 'text-embedding-ada-002') -\u003e list[float]: return client.embeddings.create( input=[text], model=model # text-embedding-3-small ).data[0].embedding def get_similarity(embedding1:list[float], embedding2:list[float]) -\u003e float: cosine_similarity = nn.CosineSimilarity(dim=0) similarity = cosine_similarity(torch.tensor(embedding1), torch.tensor(embedding2)) return similarity.item() def describe_similarity(value:float) -\u003e str: if value \u003e 0.99: return \"identical\" elif value \u003e 0.95: return \"very similar\" elif value \u003e 0.9: return \"similar\" elif value \u003e 0.8: return \"somewhat similar\" else: return \"not similar\" Let’s show how different prompts can produce different results even if the prompts themselves seem to be asking nearly the same question:\nbaseline_result_text = get_prompt_result(\"What are some nice places to visit in Paris?\") current_result_text = get_prompt_result(\"Describe a few good places to visit in Paris?\") returns these results:\nParis is a city rich in history, culture, and beauty, offering a wide array of attractions for visitors. Here are some must-see places in Paris: 1. **Eiffel Tower**: The iconic symbol of Paris, offering stunning views of the city from its observation decks. 2. **Louvre Museum**: Home to thousands of works of art, including the Mona Lisa and the Venus de Milo. 3. **Notre-Dame Cathedral**: A masterpiece of Gothic architecture, though currently under restoration following the 2019 fire. 4. **Champs-Élysées and Arc de Triomphe**: A famous avenue leading to the monumental arch, which offers panoramic views of Paris. 5. **Montmartre and Sacré-Cœur Basilica**: A historic district known for its artistic history, charming streets, and the beautiful basilica with its stunning views. 6. **Musée d'Orsay**: An art museum housed in a former railway station, featuring an extensive collection of Impressionist and Post-Impressionist masterpieces. 7. **Palace of Versailles**: Located just outside Paris, this opulent palace and its gardens are a testament to the grandeur of French royalty. 8. **Seine River Cruise**: A boat tour along the Seine River offers a unique perspective of Paris's landmarks, especially beautiful at night. 9. **Luxembourg Gardens**: A beautiful park perfect for a leisurely stroll, with statues, fountains, and the Luxembourg Palace. 10. **Le Marais**: A historic district known for its narrow medieval streets, trendy boutiques, and vibrant nightlife. 11. **Panthéon**: A neoclassical mausoleum containing the remains of distinguished French citizens, with impressive architecture and a crypt. 12. **Centre Pompidou**: A modern art museum with a distinctive architectural design, housing a vast collection of contemporary art. 13. **Sainte-Chapelle**: A stunning Gothic chapel known for its magnificent stained glass windows. 14. **Opéra Garnier**: A grand opera house with opulent interiors, worth visiting for its architecture and performances. 15. **Père Lachaise Cemetery**: The final resting place of many famous individuals, including Jim Morrison, Oscar Wilde, and Edith Piaf. These are just a few highlights, and Paris has much more to offer depending on your interests, from charming neighborhoods and cafes to world-class shopping and dining experiences.t and…\nParis, often referred to as \"The City of Light,\" is renowned for its rich history, stunning architecture, and vibrant culture. Here are a few must-visit places in Paris: 1. **Eiffel Tower**: No trip to Paris is complete without visiting its most iconic landmark. You can take an elevator ride to the top for a breathtaking view of the city or enjoy a picnic on the Champ de Mars with the tower as your backdrop. 2. **Louvre Museum**: Home to thousands of works of art, including the Mona Lisa and the Venus de Milo, the Louvre is the world's largest art museum and a historic monument in Paris. The glass pyramid entrance is a modern architectural marvel. 3. **Notre-Dame Cathedral**: This masterpiece of French Gothic architecture is famous for its stunning facade, intricate sculptures, and beautiful stained glass windows. Although it suffered damage from a fire in 2019, it remains a symbol of Parisian heritage. 4. **Montmartre and the Basilica of the Sacré-Cœur**: Perched atop a hill, Montmartre is known for its bohemian atmosphere, artists, and charming streets. The Basilica of the Sacré-Cœur offers panoramic views of Paris and is a beautiful example of Romano-Byzantine architecture. 5. **Champs-Élysées and Arc de Triomphe**: The Champs-Élysées is one of the most famous avenues in the world, lined with shops, theaters, and cafes. At its western end stands the Arc de Triomphe, a monument honoring those who fought and died for France. 6. **Musée d'Orsay**: Housed in a former railway station, this museum is renowned for its extensive collection of Impressionist and Post-Impressionist masterpieces by artists such as Monet, Van Gogh, and Degas. 7. **Seine River Cruise**: A boat cruise on the Seine River offers a unique perspective of Paris's landmarks, including the Eiffel Tower, Notre-Dame Cathedral, and the Louvre. It's a relaxing way to see the city, especially at night when the buildings are illuminated. 8. **Palace of Versailles**: Just a short trip from Paris, the Palace of Versailles is a UNESCO World Heritage site known for its opulent architecture, stunning gardens, and the Hall of Mirrors. It was the royal residence of Louis XIV. 9. **Le Marais**: This historic district is known for its narrow medieval streets, trendy boutiques, art galleries, and vibrant nightlife. It's also home to the Jewish Quarter and the beautiful Place des Vosges. 10. **Luxembourg Gardens**: These beautifully manicured gardens are perfect for a leisurely stroll or a relaxing afternoon. The gardens feature statues, fountains, and the Luxembourg Palace, which houses the French Senate. Each of these locations offers a unique glimpse into the rich tapestry of Parisian culture and history. Whether you're an art lover, history buff, or simply looking to soak in the city's ambiance, Paris has something to offer everyone. They are slightly different in that the first prompt returns fifteen locations and the second prompt only ten. Let’s calculate the embeddings and compare them:\nsimilarity = get_similarity(baseline_embedding, current_embedding) print(similarity,describe_similarity(similarity)) \u003e 0.9737002849578857 very similar So, not identical, but essentially the same. You might have some testing added to your code that uses this metric to determine if anticipated results are “drifting” beyond some pre-determined limit. In this case, the ranges I chose might alert for the need to look at possible model changes that have crept into the process, or perhaps a prompt was changed in a recent release.\nWe can compare results using the same exact prompt twice. Notice that the defaulttemperaturefor the prompt generation functionget_prompt_result()is set to “0” - which should provide the most “repeatable” output fromgpt-4o. In practice there is always a tiny bit of variablilty even with temperature set to the most stable value. This varies between different LLMs:\nbaseline_result_text = get_prompt_result(\"What are some nice places to visit in Paris?\") current_result_text = get_prompt_result(\"What are some nice places to visit in Paris?\") similarity = get_similarity(get_embedding(baseline_result_text), get_embedding(current_result_text)) print(similarity, describe_similarity(similarity)) print(f\"Is baseline_result_text == current_result_text? {baseline_result_text == current_result_text}\") However, by comparing the embeddings, we can determine them to be identical for practical purposes, even if they are not exactly identical as strings.\n\u003e 0.997055172920227 identical \u003e Is baseline_result_text == current_result_text? False The code above allows for changing the model parameters used in the prompt generation. You can play with this code yourself and get a feel for how these values can change repeatability of the results. You might find this useful to add to your prompt testing and processing in live systems.\n",
  "wordCount" : "1742",
  "inLanguage": "en",
  "datePublished": "2024-08-20T00:00:00Z",
  "dateModified": "2024-08-20T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Michael OShea"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://oshea00.github.io/posts/a-rose-by-any-other-name/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "MikesBlog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://oshea00.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://oshea00.github.io/" accesskey="h" title="MikesBlog (Alt + H)">MikesBlog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://oshea00.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://oshea00.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://oshea00.github.io/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Comparing Prompt Results - A Rose By Any Other Name
    </h1>
    <div class="post-meta"><span title='2024-08-20 00:00:00 +0000 UTC'>August 20, 2024</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Michael OShea

</div>
  </header> 
  <div class="post-content"><p><figure class="align-center ">
    <img loading="lazy" src="images/androidrose.png#center"/> 
</figure>

You might want to test an expected response from a prompt sent to a large language model, but string comparisons will not help you. The inherent variability in large language model (LLM) responses will require you to find new ways to compare generated prompt results.</p>
<p>There are a few reasons why a generated prompt result will not exactly match a prior result: the prompt itself may have changed, the model parameters may have changed, or the model&rsquo;s inherent variability may inject a small amount of change in the results.</p>
<p>One technique for dealing with &ldquo;fuzzy&rdquo; comparisons is to use embeddings to compare texts. Embeddings can be thought of as a multidimensional space of meaning, within which any fragment of text can be assigned a location to a point in that space using a coordinate. The coordinate is the &ldquo;embedding&rdquo;. The ability to express the distance between any two points in such a space can be used as a proxy for &ldquo;sameness in meaning.&rdquo; Birds of a feather flock together.</p>
<p>A coordinate list (or tuple) of two numbers, such as (x, y), is needed to assign a unique point location in a two-dimensional space. To extend this to an n-dimensional space, a list of length n is required. Embedding models typically assign coordinates in spaces of over 100 dimensions. This depends on the particular embedding model chosen. For OpenAI embedding models such as<code>'text-embedding-ada-002'</code>and<code>'text-embedding-3-small'</code>, the embedding will be a list of 1,536 float values - a coordinate in a 1,536 dimensional space.</p>
<p>I&rsquo;ve always found it fascinating that no matter how many dimentions there are, the distance between any two points in n-dimensions is always a single number.</p>
<p>There are a couple of choices you can use to determine distance between n-dimensional coordinates, the most straightforward being the &ldquo;Euclidean distance&rdquo; (or norm) which most high school algebra students will remember as: $$ d = \sqrt{(x_1-x_2)^2 + (y_1-y_2)^2} $$ or, more generally, for any n-dimensional Euclidean space:</p>
<p>$$
d(p,q) = \sqrt{\sum_{i=1}^{n}(q_i - p_i)^2}
$$</p>
<p>Another choice is the Cosine similarity, which considers the angle between two coordinate vectors. Embeddings can be interpreted as a vector from the origin to the coordinate the embedding represents. The length of the embedding vector is always normalized to 1.0. If the vectors point in the same direction, they have similar meaning. Birds of a feather flock together <em>and</em> fly in the same direction too:</p>
<p>$$
cos(\theta) = \frac{A \cdot B}{\left|A\right| \left|B\right|}
$$</p>
<p>If the two embedding vectors are identical, the angle between them will be 0, so the angle&rsquo;s cosine will be 1. The possible values range from -1 to 1, where -1 means opposite in meaning, 0 means no overlap in meaning, and 1 is identical. In practical terms, the values we are concerned with range from 0 to 1.</p>
<p>For the following code examples, I will use Cosine similarity. Rather than roll my own from the above formula, I will use a helper function found in the<code>torch.nn</code>package, <code>nn.CosineSimilarity()</code>. This function will take advantage of the GPU, if present, and will also handle a few edge cases and singularities that may arise from comparing embedding vectors.</p>
<p>Setting up a few functions to help generate prompt results and compare results:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">torch</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">torch.nn</span> <span class="k">as</span> <span class="nn">nn</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">get_prompt_result</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">temperature</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top_p</span><span class="p">:</span><span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">      <span class="n">model</span><span class="o">=</span><span class="s2">&#34;gpt-4o&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">messages</span><span class="o">=</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;role&#34;</span><span class="p">:</span> <span class="s2">&#34;user&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;content&#34;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">],</span>
</span></span><span class="line"><span class="cl">      <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="n">top_p</span><span class="o">=</span><span class="n">top_p</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">get_embedding</span><span class="p">(</span><span class="n">text</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">model</span><span class="p">:</span><span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;text-embedding-ada-002&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">client</span><span class="o">.</span><span class="n">embeddings</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nb">input</span><span class="o">=</span><span class="p">[</span><span class="n">text</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="n">model</span><span class="o">=</span><span class="n">model</span> <span class="c1"># text-embedding-3-small</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">embedding</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">get_similarity</span><span class="p">(</span><span class="n">embedding1</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">embedding2</span><span class="p">:</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">cosine_similarity</span> <span class="o">=</span> <span class="n">nn</span><span class="o">.</span><span class="n">CosineSimilarity</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">similarity</span> <span class="o">=</span> <span class="n">cosine_similarity</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">embedding1</span><span class="p">),</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">embedding2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">similarity</span><span class="o">.</span><span class="n">item</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">describe_similarity</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mf">0.99</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;identical&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">elif</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mf">0.95</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;very similar&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">elif</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mf">0.9</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;similar&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">elif</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mf">0.8</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;somewhat similar&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="s2">&#34;not similar&#34;</span>    
</span></span></code></pre></div><p>Let&rsquo;s show how different prompts can produce different results even if the prompts themselves seem to be asking nearly the same question:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">baseline_result_text</span> <span class="o">=</span> <span class="n">get_prompt_result</span><span class="p">(</span><span class="s2">&#34;What are some nice places to visit in Paris?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">current_result_text</span> <span class="o">=</span> <span class="n">get_prompt_result</span><span class="p">(</span><span class="s2">&#34;Describe a few good places to visit in Paris?&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>returns these results:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Paris is a city rich in history, culture, and beauty, offering a wide array of attractions for visitors. Here are some must-see places in Paris:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">1. **Eiffel Tower**: The iconic symbol of Paris, offering stunning views of the city from its observation decks.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. **Louvre Museum**: Home to thousands of works of art, including the Mona Lisa and the Venus de Milo.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3. **Notre-Dame Cathedral**: A masterpiece of Gothic architecture, though currently under restoration following the 2019 fire.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">4. **Champs-Élysées and Arc de Triomphe**: A famous avenue leading to the monumental arch, which offers panoramic views of Paris.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">5. **Montmartre and Sacré-Cœur Basilica**: A historic district known for its artistic history, charming streets, and the beautiful basilica with its stunning views.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">6. **Musée d&#39;Orsay**: An art museum housed in a former railway station, featuring an extensive collection of Impressionist and Post-Impressionist masterpieces.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">7. **Palace of Versailles**: Located just outside Paris, this opulent palace and its gardens are a testament to the grandeur of French royalty.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">8. **Seine River Cruise**: A boat tour along the Seine River offers a unique perspective of Paris&#39;s landmarks, especially beautiful at night.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">9. **Luxembourg Gardens**: A beautiful park perfect for a leisurely stroll, with statues, fountains, and the Luxembourg Palace.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">10. **Le Marais**: A historic district known for its narrow medieval streets, trendy boutiques, and vibrant nightlife.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">11. **Panthéon**: A neoclassical mausoleum containing the remains of distinguished French citizens, with impressive architecture and a crypt.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">12. **Centre Pompidou**: A modern art museum with a distinctive architectural design, housing a vast collection of contemporary art.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">13. **Sainte-Chapelle**: A stunning Gothic chapel known for its magnificent stained glass windows.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">14. **Opéra Garnier**: A grand opera house with opulent interiors, worth visiting for its architecture and performances.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">15. **Père Lachaise Cemetery**: The final resting place of many famous individuals, including Jim Morrison, Oscar Wilde, and Edith Piaf.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">These are just a few highlights, and Paris has much more to offer depending on your interests, from charming neighborhoods and cafes to world-class shopping and dining experiences.t
</span></span></code></pre></div><p>and&hellip;</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Paris, often referred to as &#34;The City of Light,&#34; is renowned for its rich history, stunning architecture, and vibrant culture. Here are a few must-visit places in Paris:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">1. **Eiffel Tower**: No trip to Paris is complete without visiting its most iconic landmark. You can take an elevator ride to the top for a breathtaking view of the city or enjoy a picnic on the Champ de Mars with the tower as your backdrop.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2. **Louvre Museum**: Home to thousands of works of art, including the Mona Lisa and the Venus de Milo, the Louvre is the world&#39;s largest art museum and a historic monument in Paris. The glass pyramid entrance is a modern architectural marvel.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">3. **Notre-Dame Cathedral**: This masterpiece of French Gothic architecture is famous for its stunning facade, intricate sculptures, and beautiful stained glass windows. Although it suffered damage from a fire in 2019, it remains a symbol of Parisian heritage.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">4. **Montmartre and the Basilica of the Sacré-Cœur**: Perched atop a hill, Montmartre is known for its bohemian atmosphere, artists, and charming streets. The Basilica of the Sacré-Cœur offers panoramic views of Paris and is a beautiful example of Romano-Byzantine architecture.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">5. **Champs-Élysées and Arc de Triomphe**: The Champs-Élysées is one of the most famous avenues in the world, lined with shops, theaters, and cafes. At its western end stands the Arc de Triomphe, a monument honoring those who fought and died for France.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">6. **Musée d&#39;Orsay**: Housed in a former railway station, this museum is renowned for its extensive collection of Impressionist and Post-Impressionist masterpieces by artists such as Monet, Van Gogh, and Degas.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">7. **Seine River Cruise**: A boat cruise on the Seine River offers a unique perspective of Paris&#39;s landmarks, including the Eiffel Tower, Notre-Dame Cathedral, and the Louvre. It&#39;s a relaxing way to see the city, especially at night when the buildings are illuminated.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">8. **Palace of Versailles**: Just a short trip from Paris, the Palace of Versailles is a UNESCO World Heritage site known for its opulent architecture, stunning gardens, and the Hall of Mirrors. It was the royal residence of Louis XIV.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">9. **Le Marais**: This historic district is known for its narrow medieval streets, trendy boutiques, art galleries, and vibrant nightlife. It&#39;s also home to the Jewish Quarter and the beautiful Place des Vosges.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">10. **Luxembourg Gardens**: These beautifully manicured gardens are perfect for a leisurely stroll or a relaxing afternoon. The gardens feature statues, fountains, and the Luxembourg Palace, which houses the French Senate.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Each of these locations offers a unique glimpse into the rich tapestry of Parisian culture and history. Whether you&#39;re an art lover, history buff, or simply looking to soak in the city&#39;s ambiance, Paris has something to offer everyone.
</span></span></code></pre></div><p>They are slightly different in that the first prompt returns fifteen locations and the second prompt only ten. Let&rsquo;s calculate the embeddings and compare them:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">similarity</span> <span class="o">=</span> <span class="n">get_similarity</span><span class="p">(</span><span class="n">baseline_embedding</span><span class="p">,</span> <span class="n">current_embedding</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">similarity</span><span class="p">,</span><span class="n">describe_similarity</span><span class="p">(</span><span class="n">similarity</span><span class="p">))</span>
</span></span></code></pre></div><pre tabindex="0"><code>&gt; 0.9737002849578857 very similar
</code></pre><p>So, not identical, but essentially the same. You might have some testing added to your code that uses this metric to determine if anticipated results are &ldquo;drifting&rdquo; beyond some pre-determined limit. In this case, the ranges I chose might alert for the need to look at possible model changes that have crept into the process, or perhaps a prompt was changed in a recent release.</p>
<p>We can compare results using the same exact prompt twice. Notice that the default<code>temperature</code>for the prompt generation function<code>get_prompt_result()</code>is set to &ldquo;0&rdquo; - which should provide the most &ldquo;repeatable&rdquo; output from<code>gpt-4o</code>. In practice there is always a tiny bit of variablilty even with temperature set to the most stable value. This varies between different LLMs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">baseline_result_text</span> <span class="o">=</span> <span class="n">get_prompt_result</span><span class="p">(</span><span class="s2">&#34;What are some nice places to visit in Paris?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">current_result_text</span> <span class="o">=</span> <span class="n">get_prompt_result</span><span class="p">(</span><span class="s2">&#34;What are some nice places to visit in Paris?&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">similarity</span> <span class="o">=</span> <span class="n">get_similarity</span><span class="p">(</span><span class="n">get_embedding</span><span class="p">(</span><span class="n">baseline_result_text</span><span class="p">),</span> <span class="n">get_embedding</span><span class="p">(</span><span class="n">current_result_text</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">similarity</span><span class="p">,</span> <span class="n">describe_similarity</span><span class="p">(</span><span class="n">similarity</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Is baseline_result_text == current_result_text? </span><span class="si">{</span><span class="n">baseline_result_text</span> <span class="o">==</span> <span class="n">current_result_text</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>However, by comparing the embeddings, we can determine them to be identical for practical purposes, even if they are not exactly identical as strings.</p>
<pre tabindex="0"><code>&gt; 0.997055172920227 identical
&gt; Is baseline_result_text == current_result_text? False
</code></pre><p>The code above allows for changing the model parameters used in the prompt generation. You can play with this code yourself and get a feel for how these values can change repeatability of the results. You might find this useful to add to your prompt testing and processing in live systems.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://oshea00.github.io/tags/llm/">Llm</a></li>
      <li><a href="https://oshea00.github.io/tags/openai/">Openai</a></li>
      <li><a href="https://oshea00.github.io/tags/embedding/">Embedding</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://oshea00.github.io/posts/classify-with-confidence/">
    <span class="title">« Prev</span>
    <br>
    <span>Classify With Confidence</span>
  </a>
  <a class="next" href="https://oshea00.github.io/posts/async-openai/">
    <span class="title">Next »</span>
    <br>
    <span>Scaling OpenAI With AsyncOpenAI</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Comparing Prompt Results - A Rose By Any Other Name on x"
            href="https://x.com/intent/tweet/?text=Comparing%20Prompt%20Results%20-%20A%20Rose%20By%20Any%20Other%20Name&amp;url=https%3a%2f%2foshea00.github.io%2fposts%2fa-rose-by-any-other-name%2f&amp;hashtags=llm%2copenai%2cembedding">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Comparing Prompt Results - A Rose By Any Other Name on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2foshea00.github.io%2fposts%2fa-rose-by-any-other-name%2f&amp;title=Comparing%20Prompt%20Results%20-%20A%20Rose%20By%20Any%20Other%20Name&amp;summary=Comparing%20Prompt%20Results%20-%20A%20Rose%20By%20Any%20Other%20Name&amp;source=https%3a%2f%2foshea00.github.io%2fposts%2fa-rose-by-any-other-name%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Comparing Prompt Results - A Rose By Any Other Name on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2foshea00.github.io%2fposts%2fa-rose-by-any-other-name%2f&title=Comparing%20Prompt%20Results%20-%20A%20Rose%20By%20Any%20Other%20Name">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Comparing Prompt Results - A Rose By Any Other Name on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2foshea00.github.io%2fposts%2fa-rose-by-any-other-name%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Comparing Prompt Results - A Rose By Any Other Name on whatsapp"
            href="https://api.whatsapp.com/send?text=Comparing%20Prompt%20Results%20-%20A%20Rose%20By%20Any%20Other%20Name%20-%20https%3a%2f%2foshea00.github.io%2fposts%2fa-rose-by-any-other-name%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Comparing Prompt Results - A Rose By Any Other Name on telegram"
            href="https://telegram.me/share/url?text=Comparing%20Prompt%20Results%20-%20A%20Rose%20By%20Any%20Other%20Name&amp;url=https%3a%2f%2foshea00.github.io%2fposts%2fa-rose-by-any-other-name%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Comparing Prompt Results - A Rose By Any Other Name on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Comparing%20Prompt%20Results%20-%20A%20Rose%20By%20Any%20Other%20Name&u=https%3a%2f%2foshea00.github.io%2fposts%2fa-rose-by-any-other-name%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://oshea00.github.io/">MikesBlog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
